# 知道一个结构的开头行，找到其结束行
def find_end_line(file_line_list, begin_line):
    flag = 0
    for i in range(begin_line - 1, len(file_line_list)):
        flag += file_line_list[i].count('{')
        flag -= file_line_list[i].count('}')
        if flag == 0:
            return i+1

# 一定要按顺序调用这些函数
def insert_before_line(file_line_list, line_index, offset, content):
    file_line_list.insert(line_index - 1 + offset, content)
    new_offset = offset + 1
    return new_offset, file_line_list

def insert_after_line(file_line_list, line_index, offset, content):
    file_line_list.insert(line_index + offset, content)
    new_offset = offset + 1
    return new_offset, file_line_list

def delete_line(file_line_list, line_index, offset):
    file_line_list.pop(line_index - 1 + offset)
    new_offset = offset - 1
    return new_offset, file_line_list


